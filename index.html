<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Myhealth.care</title>
  <link rel="icon" type="image/png" href="/img/plus.jpg">
  <link rel="stylesheet" href="/CSS/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body>
  <div class="navbar">
    <img src="img/plus.jpg" alt="">
    <h1>HealthCare</h1>
    <ul>
      <li><a href="#">Home</a></li>
      <li><a href="#">Services</a></li>
      <li class="dropdown">
        <span>Login â–¼</span>
        <div class="dropdown-content">
          <a href="/HTML/Rlogin.html">Receptionist</a>
          <a href="/HTML/Dlogin.html">Doctors</a>
          <a href="/HTML/signup.html">Sign Up</a>
        </div>
      </li>
    </ul>
  </div>
  <div class="mainI">
    <img src="img/dash.jpg" alt="">
  </div>
  <h1>Our Team -</h1>
  <div class="doctors">
    <div class="doctor">
      <img src="img/doc user .jpg" alt="">
    </div>
    <div class="docinfo">
      <h2>Dr. John Doe</h2>
      <h4>(E N T Spaicelist)</h4>
      <h4>Exp 10 years</h4>
    </div>
    <div class="doctor">
      <img src="img/doc user .jpg" alt="">
    </div>
    <div class="docinfo">
      <h2>Dr. John Doe</h2>
      <h4>(Dental Spaicelist)</h4>
      <h4>Exp 10 years</h4>
    </div>
    <div class="doctor">
      <img src="img/doc user .jpg" alt="">
    </div>
    <div class="docinfo">
      <h2>Dr. John Doe</h2>
      <h4>(Neurologist)</h4>
      <h4>Exp 10 years</h4>
    </div>
    <div class="doctor">
      <img src="img/doc user .jpg" alt="">
    </div>
    <div class="docinfo">
      <h2>Dr. John Doe</h2>
      <h4>(Cardiologist)</h4>
      <h4>Exp 10 years</h4>
    </div>
    <div class="doctor">
      <img src="img/doc user .jpg" alt="">
    </div>
    <div class="docinfo">
      <h2>Dr. John Doe</h2>
      <h4>(Dermatologist)</h4>
      <h4>Exp 10 years</h4>
    </div>
    <div class="doctor">
      <img src="img/doc user .jpg" alt="">
    </div>
    <div class="docinfo">
      <h2>Dr. John Doe</h2>
      <h4>(Orthopedist)</h4>
      <h4>Exp 10 years</h4>
    </div>
    <div class="doctor">
      <img src="img/doc user .jpg" alt="">
    </div>
    <div class="docinfo">
      <h2>Dr. John Doe</h2>
      <h4>(Oncologist)</h4>
      <h4>Exp 10 years</h4>
    </div>
    <div class="doctor">
      <img src="img/doc user .jpg" alt="">
    </div>
    <div class="docinfo">
      <h2>Dr. John Doe</h2>
      <h4>(Head of Surgeon)</h4>
      <h4>Exp 10 years</h4>
    </div>
  </div>
  <h1>Our Laboratry Test -</h1>
  <div class="labtest">
    <section class="section flex section-portfolio">
      <div class="portfolio">
        <div class="portfolio__content">
          <h2 class="portfolio__title">Test No.1</h2>
          <p class="portfolio__desc">
            Lorem ipsum dolor, sit amet consectetur adipisicing elit. Possimus
            ut quia quam corporis ipsam minus, eveniet iste quae...
          </p>
          <a href="#" class="portfolio__link">Read More...</a>
        </div>
      </div>
      <div class="portfolio">
        <div class="portfolio__content">
          <h2 class="portfolio__title">Test No.1</h2>
          <p class="portfolio__desc">
            Lorem ipsum dolor, sit amet consectetur adipisicing elit. Possimus
            ut quia quam corporis ipsam minus, eveniet iste quae...
          </p>
          <a href="#" class="portfolio__link">Read More...</a>
        </div>
      </div>
      <div class="portfolio">
        <div class="portfolio__content">
          <h2 class="portfolio__title">Test No.1</h2>
          <p class="portfolio__desc">
            Lorem ipsum dolor, sit amet consectetur adipisicing elit. Possimus
            ut quia quam corporis ipsam minus, eveniet iste quae...
          </p>
          <a href="#" class="portfolio__link">Read More...</a>
        </div>
      </div>
      <div class="portfolio">
        <div class="portfolio__content">
          <h2 class="portfolio__title">Test No.1</h2>
          <p class="portfolio__desc">
            Lorem ipsum dolor, sit amet consectetur adipisicing elit. Possimus
            ut quia quam corporis ipsam minus, eveniet iste quae...
          </p>
          <a href="#" class="portfolio__link">Read More...</a>
        </div>
      </div>
    </section>
    <section class="section flex section-portfolio">
      <div class="portfolio">
        <div class="portfolio__content">
          <h2 class="portfolio__title">Test No.1</h2>
          <p class="portfolio__desc">
            Lorem ipsum dolor, sit amet consectetur adipisicing elit. Possimus
            ut quia quam corporis ipsam minus, eveniet iste quae...
          </p>
          <a href="#" class="portfolio__link">Read More...</a>
        </div>
      </div>
      <div class="portfolio">
        <div class="portfolio__content">
          <h2 class="portfolio__title">Test No.1</h2>
          <p class="portfolio__desc">
            Lorem ipsum dolor, sit amet consectetur adipisicing elit. Possimus
            ut quia quam corporis ipsam minus, eveniet iste quae...
          </p>
          <a href="#" class="portfolio__link">Read More...</a>
        </div>
      </div>
      <div class="portfolio">
        <div class="portfolio__content">
          <h2 class="portfolio__title">Test No.1</h2>
          <p class="portfolio__desc">
            Lorem ipsum dolor, sit amet consectetur adipisicing elit. Possimus
            ut quia quam corporis ipsam minus, eveniet iste quae...
          </p>
          <a href="#" class="portfolio__link">Read More...</a>
        </div>
      </div>
      <div class="portfolio">
        <div class="portfolio__content">
          <h2 class="portfolio__title">Test No.1</h2>
          <p class="portfolio__desc">
            Lorem ipsum dolor, sit amet consectetur adipisicing elit. Possimus
            ut quia quam corporis ipsam minus, eveniet iste quae...
          </p>
          <a href="#" class="portfolio__link">Read More...</a>
        </div>
      </div>
    </section>
  </div>
  <div class="appointment">
    <h1>Book Appointment By Yourself</h1>
    <img src="img/logo.jpg" alt="">
    <div class="appointment-buttons">
      <button id="bookAppointmentBtn">Book Appointment</button>
      <div id="appointmentForm" style="display:none;">
        <input type="text" id="name" placeholder="Name" required>
        <input type="number" id="age" placeholder="Age" required>
        <input type="text" id="contact" placeholder="Contact Number" required>
        <input type="text" id="disease" placeholder="Disease" required>
        <select id="doctor" required>
          <option value="" disabled selected>Select Doctor</option>
          <option value="doctor1">Doctor 1</option>
          <option value="doctor2">Doctor 2</option>
        </select>
        <textarea id="details" placeholder="Additional Details"></textarea>
        <button class="btnsubmit" type="submit" id="submitAppointment">Submit</button>
      </div>
      <form id="statusForm">
        <input type="text" id="patientPhone" placeholder="Enter your phone number" required>
        <button type="submit">Check Status</button>
      </form>
      <div id="statusMessage"></div>
    </div>
  </div>
  <div id="vertical"></div>
      <div class="contact-form">
        <h3>Contact Us</h3>
        <form action="https://api.web3forms.com/submit" method="POST">
            <input type="hidden" name="access_key" value="180bea4a-e419-4cae-9dab-d7e2baba653">
            <label for="name">Name:</label>
            <input type="text" id="name" name="name" required>
            
            <label for="email">Email:</label>
            <input type="text" id="email" name="email" required>
            
            <label for="message">Message:</label>
            <textarea type="text" id="text" name="message" rows="4" required></textarea>
        </form>
    </div>


  <h1>Feedback of our previous Patients :-</h1>
  <div class="feedback">
    <div class="yourfeedback"><button id="yourFeedback">Your Feedback</button></div>
    <div class="feed">
      Name- Doe
      <p>Discraption-</p>
    </div>
    <div class="feed">
      Name- Doe
      <p>Discraption-</p>
    </div>
    <div class="feed">
      Name- Doe
      <p>Discraption-</p>
    </div>
    <div class="feed">
      Name- Doe
      <p>Discraption-</p>
    </div>
  </div>
  <div class="footer">
    <div class="footer-content">
      <div class="footer-section logo">
        <img src="/img/logo.jpg" alt="Clinic Logo" class="footer-logo">
      </div>
      <div class="footer-section about">
        <h3>About Our Clinic</h3>
        <p>Your health is our priority. <br> We provide advanced healthcare services with compassion and expertise to
          meet all your medical needs.</p>
      </div>

      <div class="footer-section links">
        <h3>Quick Links</h3>
        <ul>
          <li><a href="#">Home</a></li>
          <li><a href="#">About Us</a></li>
          <li><a href="#">Services</a></li>
          <li><a href="#">Contact Us</a></li>
          <li><a href="#">Privacy Policy</a></li>
        </ul>
      </div>

      <div class="footer-section contact">
        <h3>Contact Us</h3>
        <p><i class="fas fa-phone"></i> +91-123-456-7890</p>
        <p><i class="fas fa-envelope"></i> info@clinic.com</p>
        <p><i class="fas fa-map-marker-alt"></i> 123 Clinic St, Deoria, UP, India</p>
      </div>

      <div class="footersocial">
        <h3>Follow Us</h3>
        <div class="social-icons">
          <a href="#"><i class="fab fa-facebook-f"></i></a>
          <a href="#"><i class="fab fa-twitter"></i></a>
          <a href="#"><i class="fab fa-instagram"></i></a>
          <a href="#"><i class="fab fa-linkedin-in"></i></a>
        </div>
      </div>
    </div>
    <p>&copy; 2024 Clinic Management System</p>
  </div>




  <script type="module">
    // Firebase Import Statements
    // Firebase Import Statements
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js";
    import {
      getFirestore,
      collection,
      addDoc,
      serverTimestamp,
      query,
      where,
      getDocs,
    } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore.js";

    // Wait for DOM content to load
    document.addEventListener("DOMContentLoaded", function () {
      const bookAppointmentBtn = document.getElementById("bookAppointmentBtn");
      const appointmentForm = document.getElementById("appointmentForm");

      // Toggle form visibility
      bookAppointmentBtn.addEventListener("click", function () {
        const isFormVisible = appointmentForm.style.display === "block";
        appointmentForm.style.display = isFormVisible ? "none" : "block";
      });

      // Firebase Config
      const firebaseConfig = {
        apiKey: "AIzaSyAOhfTpl1nnEgYSMdCiwH5_KKSzFlChuak",
        authDomain: "sign-in-913d8.firebaseapp.com",
        projectId: "sign-in-913d8",
        storageBucket: "sign-in-913d8.appspot.com",
        messagingSenderId: "326230605006",
        appId: "1:326230605006:web:7050936c0974d43b49649f",
        measurementId: "G-3HX5LD10PB",
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const db = getFirestore(app);

      // Submit Appointment
      const submitButton = document.getElementById("submitAppointment");
      if (submitButton) {
        submitButton.addEventListener("click", async function (e) {
          e.preventDefault(); // Prevent page reload

          // Form values
          const name = document.getElementById("name").value.trim();
          const age = document.getElementById("age").value.trim();
          const contact = document.getElementById("contact").value.trim();
          const disease = document.getElementById("disease").value.trim();
          const doctor = document.getElementById("doctor").value;
          const details = document.getElementById("details").value.trim();

          // Validation
          if (!name || !age || !contact || !disease || !doctor) {
            alert("Please fill all required fields!");
            return;
          }

          try {
            // Save to Firestore
            await addDoc(collection(db, "notification"), {
              name: name,
              age: parseInt(age),
              contact: contact,
              disease: disease,
              doctor: doctor,
              details: details,
              timestamp: serverTimestamp(),
            });

            alert("Appointment booked successfully!");
            // Reset form
            document.getElementById("name").value = "";
            document.getElementById("age").value = "";
            document.getElementById("contact").value = "";
            document.getElementById("disease").value = "";
            document.getElementById("doctor").value = "";
            document.getElementById("details").value = "";
            appointmentForm.style.display = "none"; // Hide form
          } catch (error) {
            console.error("Error saving data: ", error);
            alert("Failed to book appointment. Please try again.");
          }
        });
      }

      // Patient status check functionality
      const statusForm = document.getElementById("statusForm");
      if (statusForm) {
        statusForm.addEventListener("submit", async function (e) {
          e.preventDefault();

          const phone = document.getElementById("patientPhone").value;

          if (!phone) {
            alert("Please enter a valid phone number!");
            return;
          }

          try {
            // Check in acceptedAppointments
            const acceptedQuery = query(
              collection(db, "acceptedAppointments"),
              where("contact", "==", phone)
            );
            const acceptedSnapshot = await getDocs(acceptedQuery);

            if (!acceptedSnapshot.empty) {
              acceptedSnapshot.forEach((doc) => {
                const status = doc.data().status;
                document.getElementById("statusMessage").innerHTML = `Your appointment: ${status}`;
              });
              return; // Stop further checks
            }

            // Check in rejectedAppointments
            const rejectedQuery = query(
              collection(db, "rejectedAppointments"),
              where("contact", "==", phone)
            );
            const rejectedSnapshot = await getDocs(rejectedQuery);

            if (!rejectedSnapshot.empty) {
              rejectedSnapshot.forEach((doc) => {
                const status = doc.data().status;
                document.getElementById("statusMessage").innerHTML = `Your appointment: ${status}`;
              });
              return; // Stop further checks
            }

            // If no records are found
            document.getElementById("statusMessage").innerHTML =
              "No patient found with this phone number.";
          } catch (error) {
            console.error("Error checking status: ", error);
            alert("Failed to check status. Please try again.");
          }
        });
      }
    });

  </script>
</body>

</html>
